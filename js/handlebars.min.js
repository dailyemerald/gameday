var Handlebars={};Handlebars.VERSION="1.0.beta.2";Handlebars.helpers={};Handlebars.partials={};Handlebars.registerHelper=function(a,b,c){if(c){b.not=c}this.helpers[a]=b};Handlebars.registerPartial=function(a,b){this.partials[a]=b};Handlebars.registerHelper('helperMissing',function(a){if(arguments.length===2){return undefined}else{throw new Error("Could not find property '"+a+"'");}});Handlebars.registerHelper('blockHelperMissing',function(a,b){var c=b.inverse||function(){},fn=b.fn;var d="";var e=Object.prototype.toString.call(a);if(e==="[object Function]"){a=a()}if(a===true){return fn(this)}else if(a===false||a==null){return c(this)}else if(e==="[object Array]"){if(a.length>0){for(var i=0,j=a.length;i<j;i++){d=d+fn(a[i])}}else{d=c(this)}return d}else{return fn(a)}});Handlebars.registerHelper('each',function(a,b){var c=b.fn,inverse=b.inverse;var d="";if(a&&a.length>0){for(var i=0,j=a.length;i<j;i++){d=d+c(a[i])}}else{d=inverse(this)}return d});Handlebars.registerHelper('if',function(a,b){if(!a||Handlebars.Utils.isEmpty(a)){return b.inverse(this)}else{return b.fn(this)}});Handlebars.registerHelper('unless',function(a,b){var c=b.fn,inverse=b.inverse;b.fn=inverse;b.inverse=c;return Handlebars.helpers['if'].call(this,a,b)});Handlebars.registerHelper('with',function(a,b){return b.fn(a)});Handlebars.registerHelper('log',function(a){Handlebars.log(a)});var handlebars=(function(){var j={trace:function trace(){},yy:{},symbols_:{"error":2,"root":3,"program":4,"EOF":5,"statements":6,"simpleInverse":7,"statement":8,"openInverse":9,"closeBlock":10,"openBlock":11,"mustache":12,"partial":13,"CONTENT":14,"COMMENT":15,"OPEN_BLOCK":16,"inMustache":17,"CLOSE":18,"OPEN_INVERSE":19,"OPEN_ENDBLOCK":20,"path":21,"OPEN":22,"OPEN_UNESCAPED":23,"OPEN_PARTIAL":24,"params":25,"hash":26,"param":27,"STRING":28,"INTEGER":29,"BOOLEAN":30,"hashSegments":31,"hashSegment":32,"ID":33,"EQUALS":34,"pathSegments":35,"SEP":36,"$accept":0,"$end":1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"OPEN_PARTIAL",28:"STRING",29:"INTEGER",30:"BOOLEAN",33:"ID",34:"EQUALS",36:"SEP"},productions_:[0,[3,2],[4,3],[4,1],[4,0],[6,1],[6,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[7,2],[17,3],[17,2],[17,2],[17,1],[25,2],[25,1],[27,1],[27,1],[27,1],[27,1],[26,1],[31,2],[31,1],[32,3],[32,3],[32,3],[32,3],[21,1],[35,3],[35,1]],performAction:function anonymous(a,b,c,d,e,f,g){var h=f.length-1;switch(e){case 1:return f[h-1];break;case 2:this.$=new d.ProgramNode(f[h-2],f[h]);break;case 3:this.$=new d.ProgramNode(f[h]);break;case 4:this.$=new d.ProgramNode([]);break;case 5:this.$=[f[h]];break;case 6:f[h-1].push(f[h]);this.$=f[h-1];break;case 7:this.$=new d.InverseNode(f[h-2],f[h-1],f[h]);break;case 8:this.$=new d.BlockNode(f[h-2],f[h-1],f[h]);break;case 9:this.$=f[h];break;case 10:this.$=f[h];break;case 11:this.$=new d.ContentNode(f[h]);break;case 12:this.$=new d.CommentNode(f[h]);break;case 13:this.$=new d.MustacheNode(f[h-1][0],f[h-1][1]);break;case 14:this.$=new d.MustacheNode(f[h-1][0],f[h-1][1]);break;case 15:this.$=f[h-1];break;case 16:this.$=new d.MustacheNode(f[h-1][0],f[h-1][1]);break;case 17:this.$=new d.MustacheNode(f[h-1][0],f[h-1][1],true);break;case 18:this.$=new d.PartialNode(f[h-1]);break;case 19:this.$=new d.PartialNode(f[h-2],f[h-1]);break;case 20:break;case 21:this.$=[[f[h-2]].concat(f[h-1]),f[h]];break;case 22:this.$=[[f[h-1]].concat(f[h]),null];break;case 23:this.$=[[f[h-1]],f[h]];break;case 24:this.$=[[f[h]],null];break;case 25:f[h-1].push(f[h]);this.$=f[h-1];break;case 26:this.$=[f[h]];break;case 27:this.$=f[h];break;case 28:this.$=new d.StringNode(f[h]);break;case 29:this.$=new d.IntegerNode(f[h]);break;case 30:this.$=new d.BooleanNode(f[h]);break;case 31:this.$=new d.HashNode(f[h]);break;case 32:f[h-1].push(f[h]);this.$=f[h-1];break;case 33:this.$=[f[h]];break;case 34:this.$=[f[h-2],f[h]];break;case 35:this.$=[f[h-2],new d.StringNode(f[h])];break;case 36:this.$=[f[h-2],new d.IntegerNode(f[h])];break;case 37:this.$=[f[h-2],new d.BooleanNode(f[h])];break;case 38:this.$=new d.IdNode(f[h]);break;case 39:f[h-2].push(f[h]);this.$=f[h-2];break;case 40:this.$=[f[h]];break}},table:[{3:1,4:2,5:[2,4],6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{1:[3]},{5:[1,16]},{5:[2,3],7:17,8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,19],20:[2,3],22:[1,13],23:[1,14],24:[1,15]},{5:[2,5],14:[2,5],15:[2,5],16:[2,5],19:[2,5],20:[2,5],22:[2,5],23:[2,5],24:[2,5]},{4:20,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{4:21,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],24:[2,9]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],24:[2,10]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],24:[2,11]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],24:[2,12]},{17:22,21:23,33:[1,25],35:24},{17:26,21:23,33:[1,25],35:24},{17:27,21:23,33:[1,25],35:24},{17:28,21:23,33:[1,25],35:24},{21:29,33:[1,25],35:24},{1:[2,1]},{6:30,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{5:[2,6],14:[2,6],15:[2,6],16:[2,6],19:[2,6],20:[2,6],22:[2,6],23:[2,6],24:[2,6]},{17:22,18:[1,31],21:23,33:[1,25],35:24},{10:32,20:[1,33]},{10:34,20:[1,33]},{18:[1,35]},{18:[2,24],21:40,25:36,26:37,27:38,28:[1,41],29:[1,42],30:[1,43],31:39,32:44,33:[1,45],35:24},{18:[2,38],28:[2,38],29:[2,38],30:[2,38],33:[2,38],36:[1,46]},{18:[2,40],28:[2,40],29:[2,40],30:[2,40],33:[2,40],36:[2,40]},{18:[1,47]},{18:[1,48]},{18:[1,49]},{18:[1,50],21:51,33:[1,25],35:24},{5:[2,2],8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,2],22:[1,13],23:[1,14],24:[1,15]},{14:[2,20],15:[2,20],16:[2,20],19:[2,20],22:[2,20],23:[2,20],24:[2,20]},{5:[2,7],14:[2,7],15:[2,7],16:[2,7],19:[2,7],20:[2,7],22:[2,7],23:[2,7],24:[2,7]},{21:52,33:[1,25],35:24},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],24:[2,8]},{14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],24:[2,14]},{18:[2,22],21:40,26:53,27:54,28:[1,41],29:[1,42],30:[1,43],31:39,32:44,33:[1,45],35:24},{18:[2,23]},{18:[2,26],28:[2,26],29:[2,26],30:[2,26],33:[2,26]},{18:[2,31],32:55,33:[1,56]},{18:[2,27],28:[2,27],29:[2,27],30:[2,27],33:[2,27]},{18:[2,28],28:[2,28],29:[2,28],30:[2,28],33:[2,28]},{18:[2,29],28:[2,29],29:[2,29],30:[2,29],33:[2,29]},{18:[2,30],28:[2,30],29:[2,30],30:[2,30],33:[2,30]},{18:[2,33],33:[2,33]},{18:[2,40],28:[2,40],29:[2,40],30:[2,40],33:[2,40],34:[1,57],36:[2,40]},{33:[1,58]},{14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],24:[2,13]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],24:[2,16]},{5:[2,17],14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],24:[2,17]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],24:[2,18]},{18:[1,59]},{18:[1,60]},{18:[2,21]},{18:[2,25],28:[2,25],29:[2,25],30:[2,25],33:[2,25]},{18:[2,32],33:[2,32]},{34:[1,57]},{21:61,28:[1,62],29:[1,63],30:[1,64],33:[1,25],35:24},{18:[2,39],28:[2,39],29:[2,39],30:[2,39],33:[2,39],36:[2,39]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],24:[2,19]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],24:[2,15]},{18:[2,34],33:[2,34]},{18:[2,35],33:[2,35]},{18:[2,36],33:[2,36]},{18:[2,37],33:[2,37]}],defaultActions:{16:[2,1],37:[2,23],53:[2,21]},parseError:function parseError(a,b){throw new Error(a);},parse:function parse(b){var c=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext='',yylineno=0,yyleng=0,recovering=0,TERROR=2,EOF=1;this.lexer.setInput(b);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;if(typeof this.lexer.yylloc=='undefined')this.lexer.yylloc={};var d=this.lexer.yylloc;lstack.push(d);if(typeof this.yy.parseError==='function')this.parseError=this.yy.parseError;function popStack(n){stack.length=stack.length-2*n;vstack.length=vstack.length-n;lstack.length=lstack.length-n}function lex(){var a;a=c.lexer.lex()||1;if(typeof a!=='number'){a=c.symbols_[a]||a}return a}var e,preErrorSymbol,state,action,a,r,yyval={},p,len,newState,expected;while(true){state=stack[stack.length-1];if(this.defaultActions[state]){action=this.defaultActions[state]}else{if(e==null)e=lex();action=table[state]&&table[state][e]}if(typeof action==='undefined'||!action.length||!action[0]){var f='';if(!recovering){expected=[];for(p in table[state])if(this.terminals_[p]&&p>2){expected.push("'"+this.terminals_[p]+"'")}if(this.lexer.showPosition){f='Parse error on line '+(yylineno+1)+":\n"+this.lexer.showPosition()+'\nExpecting '+expected.join(', ')}else{f='Parse error on line '+(yylineno+1)+": Unexpected "+(e==1?"end of input":("'"+(this.terminals_[e]||e)+"'"))}this.parseError(f,{text:this.lexer.match,token:this.terminals_[e]||e,line:this.lexer.yylineno,loc:d,expected:expected})}if(recovering==3){if(e==EOF){throw new Error(f||'Parsing halted.');}yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;d=this.lexer.yylloc;e=lex()}while(1){if((TERROR.toString())in table[state]){break}if(state==0){throw new Error(f||'Parsing halted.');}popStack(1);state=stack[stack.length-1]}preErrorSymbol=e;e=TERROR;state=stack[stack.length-1];action=table[state]&&table[state][TERROR];recovering=3}if(action[0]instanceof Array&&action.length>1){throw new Error('Parse Error: multiple actions possible at state: '+state+', token: '+e);}switch(action[0]){case 1:stack.push(e);vstack.push(this.lexer.yytext);lstack.push(this.lexer.yylloc);stack.push(action[1]);e=null;if(!preErrorSymbol){yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;d=this.lexer.yylloc;if(recovering>0)recovering--}else{e=preErrorSymbol;preErrorSymbol=null}break;case 2:len=this.productions_[action[1]][1];yyval.$=vstack[vstack.length-len];yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column};r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack);if(typeof r!=='undefined'){return r}if(len){stack=stack.slice(0,-1*len*2);vstack=vstack.slice(0,-1*len);lstack=lstack.slice(0,-1*len)}stack.push(this.productions_[action[1]][0]);vstack.push(yyval.$);lstack.push(yyval._$);newState=table[stack[stack.length-2]][stack[stack.length-1]];stack.push(newState);break;case 3:return true}}return true}};var k=(function(){var f=({EOF:1,parseError:function parseError(a,b){if(this.yy.parseError){this.yy.parseError(a,b)}else{throw new Error(a);}},setInput:function(a){this._input=a;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match='';this.conditionStack=['INITIAL'];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.match+=a;this.matched+=a;var b=a.match(/\n/);if(b)this.yylineno++;this._input=this._input.slice(1);return a},unput:function(a){this._input=a+this._input;return this},more:function(){this._more=true;return this},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?'...':'')+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;if(a.length<20){a+=this._input.substr(0,20-a.length)}return(a.substr(0,20)+(a.length>20?'...':'')).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput();var c=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+c+"^"},next:function(){if(this.done){return this.EOF}if(!this._input)this.done=true;var a,match,col,lines;if(!this._more){this.yytext='';this.match=''}var b=this._currentRules();for(var i=0;i<b.length;i++){match=this._input.match(this.rules[b[i]]);if(match){lines=match[0].match(/\n.*/g);if(lines)this.yylineno+=lines.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:(lines)?lines[lines.length-1].length-1:this.yylloc.last_column+match[0].length};this.yytext+=match[0];this.match+=match[0];this.matches=match;this.yyleng=this.yytext.length;this._more=false;this._input=this._input.slice(match[0].length);this.matched+=match[0];a=this.performAction.call(this,this.yy,this,b[i],this.conditionStack[this.conditionStack.length-1]);if(a)return a;else return}}if(this._input===""){return this.EOF}else{this.parseError('Lexical error on line '+(this.yylineno+1)+'. Unrecognized text.\n'+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function lex(){var r=this.next();if(typeof r!=='undefined'){return r}else{return this.lex()}},begin:function begin(a){this.conditionStack.push(a)},popState:function popState(){return this.conditionStack.pop()},_currentRules:function _currentRules(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules}});f.performAction=function anonymous(a,b,c,d){var e=d;switch(c){case 0:this.begin("mu");if(b.yytext)return 14;break;case 1:return 14;break;case 2:return 24;break;case 3:return 16;break;case 4:return 20;break;case 5:return 19;break;case 6:return 19;break;case 7:return 23;break;case 8:return 23;break;case 9:b.yytext=b.yytext.substr(3,b.yyleng-5);this.begin("INITIAL");return 15;break;case 10:return 22;break;case 11:return 34;break;case 12:return 33;break;case 13:return 33;break;case 14:return 36;break;case 15:break;case 16:this.begin("INITIAL");return 18;break;case 17:this.begin("INITIAL");return 18;break;case 18:b.yytext=b.yytext.substr(1,b.yyleng-2).replace(/\\"/g,'"');return 28;break;case 19:return 30;break;case 20:return 30;break;case 21:return 29;break;case 22:return 33;break;case 23:b.yytext=b.yytext.substr(1,b.yyleng-2);return 33;break;case 24:return'INVALID';break;case 25:return 5;break}};f.rules=[/^[^\x00]*?(?=(\{\{))/,/^[^\x00]+/,/^\{\{>/,/^\{\{#/,/^\{\{\//,/^\{\{\^/,/^\{\{\s*else\b/,/^\{\{\{/,/^\{\{&/,/^\{\{![\s\S]*?\}\}/,/^\{\{/,/^=/,/^\.(?=[} ])/,/^\.\./,/^[/.]/,/^\s+/,/^\}\}\}/,/^\}\}/,/^"(\\["]|[^"])*"/,/^true(?=[}\s])/,/^false(?=[}\s])/,/^[0-9]+(?=[}\s])/,/^[a-zA-Z0-9_$-]+(?=[=}\s/.])/,/^\[.*\]/,/^./,/^$/];f.conditions={"mu":{"rules":[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25],"inclusive":false},"INITIAL":{"rules":[0,1,25],"inclusive":true}};return f})();j.lexer=k;return j})();if(typeof require!=='undefined'&&typeof exports!=='undefined'){var source;exports.parser=handlebars;exports.parse=function(){return handlebars.parse.apply(handlebars,arguments)};exports.main=function commonjsMain(a){if(!a[1])throw new Error('Usage: '+a[0]+' FILE');if(typeof process!=='undefined'){source=require('fs').readFileSync(require('path').join(process.cwd(),a[1]),"utf8")}else{var b=require("file").path(require("file").cwd());source=b.join(a[1]).read({charset:"utf-8"})}return exports.parser.parse(source)};if(typeof module!=='undefined'&&require.main===module){exports.main(typeof process!=='undefined'?process.argv.slice(1):require("system").args)}}Handlebars.Parser=handlebars;Handlebars.parse=function(a){Handlebars.Parser.yy=Handlebars.AST;return Handlebars.Parser.parse(a)};Handlebars.print=function(a){return new Handlebars.PrintVisitor().accept(a)};Handlebars.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(a,b){}};Handlebars.log=function(a,b){Handlebars.logger.log(a,b)};(function(){Handlebars.AST={};Handlebars.AST.ProgramNode=function(a,b){this.type="program";this.statements=a;if(b){this.inverse=new Handlebars.AST.ProgramNode(b)}};Handlebars.AST.MustacheNode=function(a,b,c){this.type="mustache";this.id=a[0];this.params=a.slice(1);this.hash=b;this.escaped=!c};Handlebars.AST.PartialNode=function(a,b){this.type="partial";this.id=a;this.context=b};var d=function(a,b){if(a.original!==b.original){throw new Handlebars.Exception(a.original+" doesn't match "+b.original);}};Handlebars.AST.BlockNode=function(a,b,c){d(a.id,c);this.type="block";this.mustache=a;this.program=b};Handlebars.AST.InverseNode=function(a,b,c){d(a.id,c);this.type="inverse";this.mustache=a;this.program=b};Handlebars.AST.ContentNode=function(a){this.type="content";this.string=a};Handlebars.AST.HashNode=function(a){this.type="hash";this.pairs=a};Handlebars.AST.IdNode=function(a){this.type="ID";this.original=a.join(".");var b=[],depth=0;for(var i=0,l=a.length;i<l;i++){var c=a[i];if(c===".."){depth++}else if(c==="."||c==="this"){this.isScoped=true}else{b.push(c)}}this.parts=b;this.string=b.join('.');this.depth=depth;this.isSimple=(b.length===1)&&(depth===0)};Handlebars.AST.StringNode=function(a){this.type="STRING";this.string=a};Handlebars.AST.IntegerNode=function(a){this.type="INTEGER";this.integer=a};Handlebars.AST.BooleanNode=function(a){this.type="BOOLEAN";this.bool=a};Handlebars.AST.CommentNode=function(a){this.type="comment";this.comment=a}})();Handlebars.Exception=function(a){var b=Error.prototype.constructor.apply(this,arguments);for(var p in b){if(b.hasOwnProperty(p)){this[p]=b[p]}}};Handlebars.Exception.prototype=new Error();Handlebars.SafeString=function(a){this.string=a};Handlebars.SafeString.prototype.toString=function(){return this.string.toString()};(function(){var b={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var c=/&(?!\w+;)|[<>"'`]/g;var d=/[&<>"'`]/;var e=function(a){return b[a]||"&amp;"};Handlebars.Utils={escapeExpression:function(a){if(a instanceof Handlebars.SafeString){return a.toString()}else if(a==null||a===false){return""}if(!d.test(a)){return a}return a.replace(c,e)},isEmpty:function(a){if(typeof a==="undefined"){return true}else if(a===null){return true}else if(a===false){return true}else if(Object.prototype.toString.call(a)==="[object Array]"&&a.length===0){return true}else{return false}}}})();Handlebars.Compiler=function(){};Handlebars.JavaScriptCompiler=function(){};(function(m,o){m.OPCODE_MAP={appendContent:1,getContext:2,lookupWithHelpers:3,lookup:4,append:5,invokeMustache:6,appendEscaped:7,pushString:8,truthyOrFallback:9,functionOrFallback:10,invokeProgram:11,invokePartial:12,push:13,assignToHash:15,pushStringParam:16};m.MULTI_PARAM_OPCODES={appendContent:1,getContext:1,lookupWithHelpers:2,lookup:1,invokeMustache:3,pushString:1,truthyOrFallback:1,functionOrFallback:1,invokeProgram:3,invokePartial:1,push:1,assignToHash:1,pushStringParam:1};m.DISASSEMBLE_MAP={};for(var p in m.OPCODE_MAP){var q=m.OPCODE_MAP[p];m.DISASSEMBLE_MAP[q]=p}m.multiParamSize=function(a){return m.MULTI_PARAM_OPCODES[m.DISASSEMBLE_MAP[a]]};m.prototype={compiler:m,disassemble:function(){var a=this.opcodes,opcode,nextCode;var b=[],str,name,q;for(var i=0,l=a.length;i<l;i++){opcode=a[i];if(opcode==='DECLARE'){name=a[++i];q=a[++i];b.push("DECLARE "+name+" = "+q)}else{str=m.DISASSEMBLE_MAP[opcode];var c=m.multiParamSize(opcode);var d=[];for(var j=0;j<c;j++){nextCode=a[++i];if(typeof nextCode==="string"){nextCode="\""+nextCode.replace("\n","\\n")+"\""}d.push(nextCode)}str=str+" "+d.join(" ");b.push(str)}}return b.join("\n")},guid:0,compile:function(a,b){this.children=[];this.depths={list:[]};this.options=b;var c=this.options.knownHelpers;this.options.knownHelpers={'helperMissing':true,'blockHelperMissing':true,'each':true,'if':true,'unless':true,'with':true,'log':true};if(c){for(var d in c){this.options.knownHelpers[d]=c[d]}}return this.program(a)},accept:function(a){return this[a.type](a)},program:function(c){var d=c.statements,statement;this.opcodes=[];for(var i=0,l=d.length;i<l;i++){statement=d[i];this[statement.type](statement)}this.isSimple=l===1;this.depths.list=this.depths.list.sort(function(a,b){return a-b});return this},compileProgram:function(a){var b=new this.compiler().compile(a,this.options);var c=this.guid++;this.usePartial=this.usePartial||b.usePartial;this.children[c]=b;for(var i=0,l=b.depths.list.length;i<l;i++){depth=b.depths.list[i];if(depth<2){continue}else{this.addDepth(depth-1)}}return c},block:function(a){var b=a.mustache;var c,child,inverse,inverseGuid;var d=this.setupStackForMustache(b);var e=this.compileProgram(a.program);if(a.program.inverse){inverseGuid=this.compileProgram(a.program.inverse);this.declare('inverse',inverseGuid)}this.opcode('invokeProgram',e,d.length,!!b.hash);this.declare('inverse',null);this.opcode('append')},inverse:function(a){var b=this.setupStackForMustache(a.mustache);var c=this.compileProgram(a.program);this.declare('inverse',c);this.opcode('invokeProgram',null,b.length,!!a.mustache.hash);this.opcode('append')},hash:function(a){var b=a.pairs,pair,val;this.opcode('push','{}');for(var i=0,l=b.length;i<l;i++){pair=b[i];val=pair[1];this.accept(val);this.opcode('assignToHash',pair[0])}},partial:function(a){var b=a.id;this.usePartial=true;if(a.context){this.ID(a.context)}else{this.opcode('push','depth0')}this.opcode('invokePartial',b.original);this.opcode('append')},content:function(a){this.opcode('appendContent',a.string)},mustache:function(a){var b=this.setupStackForMustache(a);this.opcode('invokeMustache',b.length,a.id.original,!!a.hash);if(a.escaped){this.opcode('appendEscaped')}else{this.opcode('append')}},ID:function(a){this.addDepth(a.depth);this.opcode('getContext',a.depth);this.opcode('lookupWithHelpers',a.parts[0]||null,a.isScoped||false);for(var i=1,l=a.parts.length;i<l;i++){this.opcode('lookup',a.parts[i])}},STRING:function(a){this.opcode('pushString',a.string)},INTEGER:function(a){this.opcode('push',a.integer)},BOOLEAN:function(a){this.opcode('push',a.bool)},comment:function(){},pushParams:function(a){var i=a.length,param;while(i--){param=a[i];if(this.options.stringParams){if(param.depth){this.addDepth(param.depth)}this.opcode('getContext',param.depth||0);this.opcode('pushStringParam',param.string)}else{this[param.type](param)}}},opcode:function(a,b,c,d){this.opcodes.push(m.OPCODE_MAP[a]);if(b!==undefined){this.opcodes.push(b)}if(c!==undefined){this.opcodes.push(c)}if(d!==undefined){this.opcodes.push(d)}},declare:function(a,b){this.opcodes.push('DECLARE');this.opcodes.push(a);this.opcodes.push(b)},addDepth:function(a){if(a===0){return}if(!this.depths[a]){this.depths[a]=true;this.depths.list.push(a)}},setupStackForMustache:function(a){var b=a.params;this.pushParams(b);if(a.hash){this.hash(a.hash)}this.ID(a.id);return b}};o.prototype={nameLookup:function(a,b,c){if(/^[0-9]+$/.test(b)){return a+"["+b+"]"}else if(o.isValidJavaScriptVariableName(b)){return a+"."+b}else{return a+"['"+b+"']"}},appendToBuffer:function(a){if(this.environment.isSimple){return"return "+a+";"}else{return"buffer += "+a+";"}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(a,b,c,d){this.environment=a;this.options=b||{};this.name=this.environment.name;this.isChild=!!c;this.context=c||{programs:[],aliases:{self:'this'},registers:{list:[]}};this.preamble();this.stackSlot=0;this.stackVars=[];this.compileChildren(a,b);var e=a.opcodes,opcode;this.i=0;for(l=e.length;this.i<l;this.i++){opcode=this.nextOpcode(0);if(opcode[0]==='DECLARE'){this.i=this.i+2;this[opcode[1]]=opcode[2]}else{this.i=this.i+opcode[1].length;this[opcode[0]].apply(this,opcode[1])}}return this.createFunctionContext(d)},nextOpcode:function(n){var a=this.environment.opcodes,opcode=a[this.i+n],name,val;var b,codes;if(opcode==='DECLARE'){name=a[this.i+1];val=a[this.i+2];return['DECLARE',name,val]}else{name=m.DISASSEMBLE_MAP[opcode];b=m.multiParamSize(opcode);codes=[];for(var j=0;j<b;j++){codes.push(a[this.i+j+1+n])}return[name,codes]}},eat:function(a){this.i=this.i+a.length},preamble:function(){var a=[];if(!this.isChild){var b=this.namespace;var c="helpers = helpers || "+b+".helpers;";if(this.environment.usePartial){c=c+" partials = partials || "+b+".partials;"}a.push(c)}else{a.push('')}if(!this.environment.isSimple){a.push(", buffer = "+this.initializeBuffer())}else{a.push("")}this.lastContext=0;this.source=a},createFunctionContext:function(a){var b=this.stackVars;if(!this.isChild){b=b.concat(this.context.registers.list)}if(b.length>0){this.source[1]=this.source[1]+", "+b.join(", ")}if(!this.isChild){var c=[];for(var d in this.context.aliases){this.source[1]=this.source[1]+', '+d+'='+this.context.aliases[d]}}if(this.source[1]){this.source[1]="var "+this.source[1].substring(2)+";"}if(!this.isChild){this.source[1]+='\n'+this.context.programs.join('\n')+'\n'}if(!this.environment.isSimple){this.source.push("return buffer;")}var e=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];for(var i=0,l=this.environment.depths.list.length;i<l;i++){e.push("depth"+this.environment.depths.list[i])}if(a){e.push(this.source.join("\n  "));return Function.apply(this,e)}else{var f='function '+(this.name||'')+'('+e.join(',')+') {\n  '+this.source.join("\n  ")+'}';Handlebars.log(Handlebars.logger.DEBUG,f+"\n\n");return f}},appendContent:function(a){this.source.push(this.appendToBuffer(this.quotedString(a)))},append:function(){var a=this.popStack();this.source.push("if("+a+" || "+a+" === 0) { "+this.appendToBuffer(a)+" }");if(this.environment.isSimple){this.source.push("else { "+this.appendToBuffer("''")+" }")}},appendEscaped:function(){var a=this.nextOpcode(1),extra="";this.context.aliases.escapeExpression='this.escapeExpression';if(a[0]==='appendContent'){extra=" + "+this.quotedString(a[1][0]);this.eat(a)}this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"+extra))},getContext:function(a){if(this.lastContext!==a){this.lastContext=a}},lookupWithHelpers:function(a,b){if(a){var c=this.nextStack();this.usingKnownHelper=false;var d;if(!b&&this.options.knownHelpers[a]){d=c+" = "+this.nameLookup('helpers',a,'helper');this.usingKnownHelper=true}else if(b||this.options.knownHelpersOnly){d=c+" = "+this.nameLookup('depth'+this.lastContext,a,'context')}else{d=c+" = "+this.nameLookup('helpers',a,'helper')+" || "+this.nameLookup('depth'+this.lastContext,a,'context')}d+=';';this.source.push(d)}else{this.pushStack('depth'+this.lastContext)}},lookup:function(a){var b=this.topStack();this.source.push(b+" = ("+b+" === null || "+b+" === undefined || "+b+" === false ? "+b+" : "+this.nameLookup(b,a,'context')+");")},pushStringParam:function(a){this.pushStack('depth'+this.lastContext);this.pushString(a)},pushString:function(a){this.pushStack(this.quotedString(a))},push:function(a){this.pushStack(a)},invokeMustache:function(d,e,f){this.populateParams(d,this.quotedString(e),"{}",null,f,function(a,b,c){if(!this.usingKnownHelper){this.context.aliases.helperMissing='helpers.helperMissing';this.context.aliases.undef='void 0';this.source.push("else if("+c+"=== undef) { "+a+" = helperMissing.call("+b+"); }");if(a!==c){this.source.push("else { "+a+" = "+c+"; }")}}})},invokeProgram:function(d,e,f){var g=this.programExpression(this.inverse);var h=this.programExpression(d);this.populateParams(e,null,h,g,f,function(a,b,c){if(!this.usingKnownHelper){this.context.aliases.blockHelperMissing='helpers.blockHelperMissing';this.source.push("else { "+a+" = blockHelperMissing.call("+b+"); }")}})},populateParams:function(a,b,c,d,e,f){var g=e||this.options.stringParams||d||this.options.data;var h=this.popStack(),nextStack;var j=[],param,stringParam,stringOptions;if(g){this.register('tmp1',c);stringOptions='tmp1'}else{stringOptions='{ hash: {} }'}if(g){var k=(e?this.popStack():'{}');this.source.push('tmp1.hash = '+k+';')}if(this.options.stringParams){this.source.push('tmp1.contexts = [];')}for(var i=0;i<a;i++){param=this.popStack();j.push(param);if(this.options.stringParams){this.source.push('tmp1.contexts.push('+this.popStack()+');')}}if(d){this.source.push('tmp1.fn = tmp1;');this.source.push('tmp1.inverse = '+d+';')}if(this.options.data){this.source.push('tmp1.data = data;')}j.push(stringOptions);this.populateCall(j,h,b||h,f)},populateCall:function(a,b,c,d){var e=["depth0"].concat(a).join(", ");var f=["depth0"].concat(c).concat(a).join(", ");var g=this.nextStack();if(this.usingKnownHelper){this.source.push(g+" = "+b+".call("+e+");")}else{this.context.aliases.functionType='"function"';this.source.push("if(typeof "+b+" === functionType) { "+g+" = "+b+".call("+e+"); }")}d.call(this,g,f,b);this.usingKnownHelper=false},invokePartial:function(a){this.pushStack("self.invokePartial("+this.nameLookup('partials',a,'partial')+", '"+a+"', "+this.popStack()+", helpers, partials);")},assignToHash:function(a){var b=this.popStack();var c=this.topStack();this.source.push(c+"['"+a+"'] = "+b+";")},compiler:o,compileChildren:function(a,b){var c=a.children,child,compiler;for(var i=0,l=c.length;i<l;i++){child=c[i];compiler=new this.compiler();this.context.programs.push('');var d=this.context.programs.length;child.index=d;child.name='program'+d;this.context.programs[d]=compiler.compile(child,b,this.context)}},programExpression:function(a){if(a==null){return"self.noop"}var b=this.environment.children[a],depths=b.depths.list;var c=[b.index,b.name,"data"];for(var i=0,l=depths.length;i<l;i++){depth=depths[i];if(depth===1){c.push("depth0")}else{c.push("depth"+(depth-1))}}if(depths.length===0){return"self.program("+c.join(", ")+")"}else{c.shift();return"self.programWithDepth("+c.join(", ")+")"}},register:function(a,b){this.useRegister(a);this.source.push(a+" = "+b+";")},useRegister:function(a){if(!this.context.registers[a]){this.context.registers[a]=true;this.context.registers.list.push(a)}},pushStack:function(a){this.source.push(this.nextStack()+" = "+a+";");return"stack"+this.stackSlot},nextStack:function(){this.stackSlot++;if(this.stackSlot>this.stackVars.length){this.stackVars.push("stack"+this.stackSlot)}return"stack"+this.stackSlot},popStack:function(){return"stack"+this.stackSlot--},topStack:function(){return"stack"+this.stackSlot},quotedString:function(a){return'"'+a.replace(/\\/g,'\\\\').replace(/"/g,'\\"').replace(/\n/g,'\\n').replace(/\r/g,'\\r')+'"'}};var r=("break case catch continue default delete do else finally "+"for function if in instanceof new return switch this throw "+"try typeof var void while with null true false").split(" ");var s=o.RESERVED_WORDS={};for(var i=0,l=r.length;i<l;i++){s[r[i]]=true}o.isValidJavaScriptVariableName=function(a){if(!o.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(a)){return true}return false}})(Handlebars.Compiler,Handlebars.JavaScriptCompiler);Handlebars.precompile=function(a,b){b=b||{};var c=Handlebars.parse(a);var d=new Handlebars.Compiler().compile(c,b);return new Handlebars.JavaScriptCompiler().compile(d,b)};Handlebars.compile=function(d,e){e=e||{};var f;function compile(){var a=Handlebars.parse(d);var b=new Handlebars.Compiler().compile(a,e);var c=new Handlebars.JavaScriptCompiler().compile(b,e,undefined,true);return Handlebars.template(c)}return function(a,b){if(!f){f=compile()}return f.call(this,a,b)}};Handlebars.VM={template:function(d){var e={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(i,a,b){var c=this.programs[i];if(b){return Handlebars.VM.program(a,b)}else if(c){return c}else{c=this.programs[i]=Handlebars.VM.program(a);return c}},programWithDepth:Handlebars.VM.programWithDepth,noop:Handlebars.VM.noop};return function(a,b){b=b||{};return d.call(e,Handlebars,a,b.helpers,b.partials,b.data)}},programWithDepth:function(c,d,e){var f=Array.prototype.slice.call(arguments,2);return function(a,b){b=b||{};return c.apply(this,[a,b.data||d].concat(f))}},program:function(c,d){return function(a,b){b=b||{};return c(a,b.data||d)}},noop:function(){return""},invokePartial:function(a,b,c,d,e){if(a===undefined){throw new Handlebars.Exception("The partial "+b+" could not be found");}else if(a instanceof Function){return a(c,{helpers:d,partials:e})}else if(!Handlebars.compile){throw new Handlebars.Exception("The partial "+b+" could not be compiled when running in vm mode");}else{e[b]=Handlebars.compile(a);return e[b](c,{helpers:d,partials:e})}}};Handlebars.template=Handlebars.VM.template;